version=pmwiki-2.3.37 ordered=1 urlencoded=1
agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.5 Safari/605.1.15
author=admin
charset=ISO-8859-1
csum=
host=172.22.0.1
name=Main.Booleansearchfilter
rev=15
targets=Category.Markup,!Markup,Category.Searching,!Searching,Category.Forms,!Forms,Profiles.Harcokuppens,Main.Booleansearchfilter-Talk
text=%25define=recipeinfo color=black background-color=#f7f7f7 border='1px solid #cccccc' padding=4px%25%0a%0a>>recipeinfo%3c%3c%0aSummary: %0aVersion:   20250331 %0aStatus:  In active use%0aMaintainer:   harcokuppens %0aLicense:  MIT%0aCategories:   [[!Markup]] [[!Searching]] [[!Forms]] %0a>>%3c%3c%0a%0a!! Questions answered by this recipe%0a%0aHow can I do more complex boolean search on content on the current page, such that only the matching items are shown?  %0a%0a!!Description%0a%0aCookbook to add a search form on a HTML page to search items using a boolean expression of words, making none-matched items hidden, and making the searched words highlighted in the matched items.%0a%0aThe source code of this cookbook is at [[https://github.com/harcokuppens/pmwiki-cookbook-booleansearchfilter| the cookbook's repository]], which also provides%0aa devcontainer in which you can see the plugin in action and further develop it. %0a%0aThe booleansearchfilter cookbook script is a wrapper around the [[https://www.npmjs.com/package/boolean-search-filter | Boolean Search Filter JavaScript library]]. The @@[=(:booleansearchfilter:)=]@@directive inserts a @@&lt;div&gt;@@ tag, where the library dynamically creates a Boolean search form. You can see the library in action at the following [[https://raw.githack.com/harcokuppens/boolean-search-filter/ac1f976ebc9feac38f76909d952ef25e6996775e/example/index.html | URL]].%0a%0aThe directive  [@(:booleansearchfilter:)@] has the following options:%0a%0a:'''id''': the id of the div tag added in which search form is placed. Default id:  "BooleanSearch".%0a:'''elementsCssSelector''': Sets the CSS selector for the elements to be searched. Default: "li" if [@sectionElementsCssSelector@] also set, otherwise the default is "#wikitext  li" to only search list items within PmWiki's content area.%0a:'''sectionElementsCssSelector''': Sets the CSS selector for the section elements to be searched. If this method is called then we have multiple lists, one per section, where sections are selected by the [@sectionElementsCssSelector@], and elements within the section with the [@elementsCssSelector@]. When this method is not called the library only uses the [@elementsCssSelector@] for a single list of elements without any sections. Default: not set, only elementsCssSelector is used.%0a:'''subscript''': to provide an alternative subscript ([@HTML@] code in a string value), below the search box in the search form%0a:'''highlighting''':  to provide a boolean ("true" or "false") to enable or disable highlighting. Default: "true".%0a%0a!! Example%0a%0aThe following pmwiki markup:%0a%0a[@ %0a        (:booleansearchfilter sectionElementsCssSelector='#mycontent > h1' 'elementsCssSelector='li':)%0a@]%0a%0aWill search for [@H1@] tags as direct childs of  an element with id [@mycontent@] as the search sections. Within each [@H1@] section it will search for matching items with css select [@LI@]. Items not matched get hidden, and in matched items the search words in the boolean expression in the search box get highlighted. If there are no matches in the section then the whole section with the [@H1@] tag get hidden.%0a%0a[[#install]]%0a!! Installation%0a%0aDownload [[https://github.com/harcokuppens/pmwiki-cookbook-booleansearchfilter/releases/download/2025-03-31/booleansearchfilter-20250331.zip|booleansearchfilter-20250331.zip]], unpack the files to the associated directories, and add to config.php:%0a%0a->[@include_once("$FarmD/cookbook/booleansearchfilter/booleansearchfilter.php");@]%0a%0a!! Notes%0a%0a* for custom boolean search form adjust the cookbook script in which there is already commented out code to add a custom form%0a%0a!! Release Notes%0a%0a* 20250331: initial version - [[https://github.com/harcokuppens/pmwiki-cookbook-booleansearchfilter/releases/download/2025-03-31/booleansearchfilter-20250331.zip|booleansearchfilter-20250331.zip]] - [[~harcokuppens ]] %0a%0a!! See Also%0a%0a* for details see  [[https://www.npmjs.com/package/boolean-search-filter| boolean search  filter javascript library]]%0a%0a%0a!! Contributors%0a%0a[[~harcokuppens ]]%0a%0a%0a!! Comments%0aSee discussion at [[{$Name}-Talk]]
time=1743497512
